<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fashion Store | Wishlist</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Orienta&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap"
        rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=BioRhyme:wght@200..800&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Jost:ital,wght@0,100..900;1,100..900&family=Orienta&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap"
        rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=BioRhyme:wght@200..800&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Jost:ital,wght@0,100..900;1,100..900&family=Orienta&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
    <script src="https://www.gstatic.com/firebasejs/8.3.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.3/firebase-database.js"></script>
</head>

<body>

    <nav class="navbar navbar-expand-lg sticky-top px-md-5 px-sm-2">
        <div class="container-fluid align-items-center">
            <div class="d-flex align-items-center me-3">
                <button class="navbar-toggler border-0" type="button" data-bs-toggle="offcanvas"
                    data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                    <i class="fa-solid fa-bars-staggered"></i>
                </button>
                <h2 class="nav-head m-0 font-jost text-gold">Fashion</h2>
            </div>
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar"
                aria-labelledby="offcanvasNavbarLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title font-jost" id="offcanvasNavbarLabel">Menu</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav m-0 align-items-center justify-content-end pe-3 ms-5 gap-3">
                        <li class="nav-item">
                            <a class="nav-link text-capitalize font-jost hover-line hover-color-gold"
                                aria-current="page" href="../index.html">Home</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle text-capitalize font-jost hover-line hover-color-gold"
                                href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                pages
                            </a>
                            <ul class="dropdown-menu rounded-0 border-gold">
                                <li class="border-bottom border-1 border-gold text-capitalize"><a
                                        class="dropdown-item text-gold" href="about.html">about us</a></li>
                                <li class=" text-capitalize"><a class="dropdown-item text-gold"
                                        href="collection.html">collections</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle text-capitalize font-jost hover-line hover-color-gold"
                                href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                shop
                            </a>
                            <ul class="dropdown-menu rounded-0 border-gold">
                                <li class="text-capitalize border-bottom border-1 border-gold"><a
                                        class="dropdown-item text-gold" href="shop.html">catalog</a></li>
                                <li class="text-capitalize border-bottom border-1 border-gold"><a
                                        class="dropdown-item text-gold" href="cart.html">cart</a></li>
                                <li class="text-capitalize"><a class="dropdown-item text-gold"
                                        href="wishlist.html">wishlist</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active text-capitalize font-jost hover-line hover-color-gold"
                                href="blog.html">blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-capitalize font-jost hover-line hover-color-gold"
                                href="contact.html">contact</a>
                        </li>
                    </ul>
                </div>
            </div>
            <ul class="align-items-center m-0 justify-content-end pe-3 gap-3 gap-md-4 d-flex">
                <li class="nav-item">
                    <a class="nav-link" href="#" onclick="searchDown()"><svg xmlns="http://www.w3.org/2000/svg"
                            width="20" height="20" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                            <path
                                d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
                        </svg></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="wishlist.html"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                            fill="currentColor" class="bi bi-suit-heart" viewBox="0 0 16 16">
                            <path
                                d="m8 6.236-.894-1.789c-.222-.443-.607-1.08-1.152-1.595C5.418 2.345 4.776 2 4 2 2.324 2 1 3.326 1 4.92c0 1.211.554 2.066 1.868 3.37.337.334.721.695 1.146 1.093C5.122 10.423 6.5 11.717 8 13.447c1.5-1.73 2.878-3.024 3.986-4.064.425-.398.81-.76 1.146-1.093C14.446 6.986 15 6.131 15 4.92 15 3.326 13.676 2 12 2c-.777 0-1.418.345-1.954.852-.545.515-.93 1.152-1.152 1.595zm.392 8.292a.513.513 0 0 1-.784 0c-1.601-1.902-3.05-3.262-4.243-4.381C1.3 8.208 0 6.989 0 4.92 0 2.755 1.79 1 4 1c1.6 0 2.719 1.05 3.404 2.008.26.365.458.716.596.992a7.6 7.6 0 0 1 .596-.992C9.281 2.049 10.4 1 12 1c2.21 0 4 1.755 4 3.92 0 2.069-1.3 3.288-3.365 5.227-1.193 1.12-2.642 2.48-4.243 4.38z" />
                        </svg></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="cart.html"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                            fill="currentColor" class="bi bi-basket" viewBox="0 0 16 16">
                            <path
                                d="M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1v4.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 13.5V9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1.217L5.07 1.243a.5.5 0 0 1 .686-.172zM2 9v4.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V9zM1 7v1h14V7zm3 3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 4 10m2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 6 10m2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 8 10m2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5m2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5" />
                        </svg></a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="searchbar-box w-100 text-center position-absolute bg-white py-5" id="searchBox">
        <input type="text" placeholder="Search any item" class="searchbar border-0 border-bottom w-75 py-2 ps-3 fs-3 my-2"
            style="max-width: 700px;" id="searchInput">
        <button class="close-searchbar bg-transparent border-0 fs-3 my-2" onclick="closeSearch()"><i
                class="fa-solid fa-close"></i></button>
        <button class="search btn-black-theme font-raleway text-capitalize btn btn-dark rounded-0 my-2"
            onclick="searchProduct()">Search</button>
    </div>

    <div class="container my-5 font-jost">

        <h2 class="fw-bold mb-4">My Wishlist</h2>

        <div class="wishlist-cards" id="wishlistCards">
            
        </div>

        <div class="align-items-center mt-4">
            <button class="btn-clear" onclick="clearWishlist()">Clear Wishlist</button>
        </div>
    </div>




    <footer>
        <div class="container text-capitalize" style="width: fit-content; font-family: 'Jost';">
            <div class="row w-100">
                <div class="col-md-4 mb-4">
                    <h2 class="m-0 font-jost text-gold mb-3">Fashion</h2>
                    <p class="border-bottom border-1 pt-1 pb-3 text-secondary">Cillum eu id enim aliquip aute ullamco
                        anim.
                        Culpa deserunt nostrud excepteur voluptate.</p>
                </div>
                <div class="col-md-4 mb-4 d-flex gap-5">
                    <div class="foot-list1">
                        <h5 class="footer-title">About</h5>
                        <ul class="mt-4">
                            <li class="mt-2" style="list-style: circle;"><a href="about.html"
                                    class="font-raleway text-dark text-decoration-none" style="font-size: 12px;">about
                                    us</a></li>
                            <li class="mt-2" style="list-style: circle;"><a href="collection.html"
                                    class="font-raleway text-dark text-decoration-none"
                                    style="font-size: 12px;">collections</a></li>
                            <li class="mt-2" style="list-style: circle;"><a href="shop.html"
                                    class="font-raleway text-dark text-decoration-none"
                                    style="font-size: 12px;">shop</a></li>
                            <li class="mt-2" style="list-style: circle;"><a href="blog.html"
                                    class="font-raleway text-dark text-decoration-none"
                                    style="font-size: 12px;">blog</a></li>
                            <li class="mt-2" style="list-style: circle;"><a href="contact.html"
                                    class="font-raleway text-dark text-decoration-none" style="font-size: 12px;">contact
                                    us</a></li>
                        </ul>
                    </div>
                    <div class="foot-list2">
                        <h5 class="footer-title">Useful links</h5>
                        <ul class="mt-4">
                            <li class="mt-2" style="list-style: circle;"><a href="#"
                                    class="font-raleway text-dark text-decoration-none" style="font-size: 12px;">Privacy
                                    Policy</a></li>
                            <li class="mt-2" style="list-style: circle;"><a href="#"
                                    class="font-raleway text-dark text-decoration-none" style="font-size: 12px;">Terms
                                    of use</a></li>
                            <li class="mt-2" style="list-style: circle;"><a href="#"
                                    class="font-raleway text-dark text-decoration-none"
                                    style="font-size: 12px;">Support</a></li>
                            <li class="mt-2" style="list-style: circle;"><a href="#"
                                    class="font-raleway text-dark text-decoration-none"
                                    style="font-size: 12px;">Shipping details</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <h5 class="footer-title" style="font-size: 24px; ">Newsletter</h5>
                    <p class="my-3 text-secondary">Subscribe to be the first to hear about deals, offers and upcoming
                        collections.</p>
                    <div class="input-box position-relative border-bottom py-3 ">
                        <input type="email" class="w-100 border-0 outline-0 ps-2" placeholder="Enter Your Email"
                            style="outline: none;">
                        <button class="position-absolute bg-transparent border-0" style="right: 0;"
                            onclick="subscribe(this)"><i
                                class="fa-solid fa-share text-secondary hover-color-gold"></i></button>
                    </div>
                </div>
            </div>
            <div class="copyright d-flex justify-content-between">
                <p>&copy; 2023 Fashion Store. All Rights Reserved.</p>
                <div class="social-icons">
                    <a href="https://www.facebook.com" style="font-size: 14px;" class="text-black"><i
                            class="fab fa-facebook-f"></i></a>
                    <a href="https://www.twitter.com" style="font-size: 14px;" class="text-black"><i
                            class="fab fa-twitter"></i></a>
                    <a href="https://www.instagram.com" style="font-size: 14px;" class="text-black"><i
                            class="fab fa-instagram"></i></a>
                    <a href="https://www.linkedin.com" style="font-size: 14px;" class="text-black"><i
                            class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
    <script src="../app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyAeetneHVxYE15uLaH7CQCImsXyP0bB_1c",
            authDomain: "fashion-store-9049f.firebaseapp.com",
            projectId: "fashion-store-9049f",
            storageBucket: "fashion-store-9049f.firebasestorage.app",
            messagingSenderId: "81551344096",
            appId: "1:81551344096:web:68733041c827c336c2eb85"
        };

        var app = firebase.initializeApp(firebaseConfig);

        var db = firebase.database();
        db.ref("wishlistItems").on("value", (snapshot) => {
            var wishlistProductsContainer = document.getElementById("wishlistCards");
            wishlistProductsContainer.innerHTML = "";

            var data = snapshot.val();
            if (!data) {
                wishlistProductsContainer.innerHTML = "<p class='text-center text-muted'>No items in wishlist.</p>";
                return;
            }

            if (typeof data === "object" && !data.image) {
                Object.entries(data).forEach(([key, item]) => {
                    var productCard = document.createElement("div");
                    productCard.classList.add("row", "wishlist-item");
                    productCard.innerHTML = `
        <div class="col-md-2 col-4 text-center text-md-start">
          <img src="${item.image}" class="wishlist-img" alt="${item.title}">
        </div>
        <div class="col-md-5 col-8">
          <h5 class="wishlist-title mb-2">${item.title}</h5>
          <p class="m-0 text-muted">Article: <span class="text-dark">000845DZ1</span></p>
          <p class="m-0 text-muted">Status: <span class="text-success">IN STOCK</span></p>
        </div>
        <div class="col-md-3 col-6 text-md-end mt-3 mt-md-0">
          <span class="wishlist-price">${item.price}</span>
        </div>
        <div class="col-md-2 col-6 text-end mt-3 mt-md-0">
          <i class="fa-solid fa-xmark wishlist-remove hover-color-gold"
             onclick="removeWishlistProduct(this, '${key}')"></i>
        </div>`;
                    wishlistProductsContainer.appendChild(productCard);
                });
            }
            else {
                var item = data;
                var productCard = document.createElement("div");
                productCard.classList.add("row", "wishlist-item");
                productCard.innerHTML = `
      <div class="col-md-2 col-4 text-center text-md-start">
        <img src="${item.image}" class="wishlist-img" alt="${item.title}">
      </div>
      <div class="col-md-5 col-8">
        <h5 class="wishlist-title mb-2">${item.title}</h5>
        <p class="m-0 text-muted">Article: <span class="text-dark">000845DZ1</span></p>
        <p class="m-0 text-muted">Status: <span class="text-success">IN STOCK</span></p>
      </div>
      <div class="col-md-3 col-6 text-md-end mt-3 mt-md-0">
        <span class="wishlist-price">${item.price}</span>
      </div>
      <div class="col-md-2 col-6 text-end mt-3 mt-md-0">
        <i class="fa-solid fa-xmark wishlist-remove hover-color-gold"
           onclick="removeWishlistProduct()"></i>
      </div>`;
                wishlistProductsContainer.appendChild(productCard);
            }
        });


        function clearWishlist() {
            db.ref("wishlistItems")
                .remove()
                .then(() => {
                    console.log("Wishlist object deleted successfully!");
                })
                .catch((error) => {
                    console.error("Error deleting wishlist:", error);
                });

        }
        function removeWishlistProduct(element, card) {
            // element.parentNode.parentNode.remove();
            // db.ref("wishlistItems").child("card").remove();
            var id = card.trim();

            db.ref("wishlistItems/" + id)
                .remove()
                .then(() => {
                    element.parentNode.remove();
                    totalPrice();
                })
                .catch((error) => {
                    console.error(error);
                });
        }
    </script>
</body>

</html>